@import '../../../styles/tokens.less';

.wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1rem;
  user-select: none;
  --knob-accent: @glow;
  --knob-accent-rgb: 183, 255, 56;
  --knob-label-color: @textMuted;
  --knob-label-color-active: @textPrimary;
}

.dialFrame {
  position: relative;
  width: clamp(12rem, 34vw, 16rem);
  height: clamp(12rem, 34vw, 16rem);
}

.labelsLayer {
  pointer-events: none;
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.labelAnchor {
  position: absolute;
  left: 50%;
  top: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
  transform: translate(-50%, -50%);
}

.labelDot {
  width: 0.4rem;
  height: 0.4rem;
  border-radius: 9999px;
  margin-bottom: 0.25rem;
  background: rgba(var(--knob-accent-rgb, 183, 255, 56), 0.45);
}

.labelDotActive {
  background: var(--knob-accent, @glow);
  box-shadow: 0 0 12px rgba(var(--knob-accent-rgb, 183, 255, 56), 0.6);
}

.labelText {
  font-size: 0.72rem;
  line-height: 1.2;
  text-align: center;
  color: var(--knob-label-color, @textMuted);
  padding: 0.12rem 0.6rem;
  border-radius: 9999px;
  background: fade(@bgDark, 88%);
  border: 1px solid fade(@borderSoft, 40%);
  backdrop-filter: blur(4px);
  text-shadow: 0 1px 3px fade(#000, 70%);
  white-space: nowrap;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}

.labelTextActive {
  font-weight: 700;
  color: var(--knob-label-color-active, @textPrimary);
  border-color: rgba(var(--knob-accent-rgb, 183, 255, 56), 0.6);
  box-shadow: 0 0 18px rgba(var(--knob-accent-rgb, 183, 255, 56), 0.4);
}

.dial {
  position: absolute;
  left: 50%;
  top: 50%;
  width: clamp(8.5rem, 26vw, 10.5rem);
  height: clamp(8.5rem, 26vw, 10.5rem);
  transform: translate(-50%, -50%);
  border-radius: 9999px;
  touch-action: none;
  transition:
    transform 120ms ease,
    box-shadow 120ms ease;
}

.dialDragging {
  transform: translate(-50%, -50%) scale(1.05);
  box-shadow: 0 0 30px fade(#63ffdb, 45%);
}

.dialBase,
.dialRing,
.dialSurface,
.dialMetal,
.dialSheen {
  position: absolute;
  inset: 0;
  border-radius: 9999px;
}

.dialBase {
  background: radial-gradient(circle at 45% 35%, #1a1a1a, #060606 75%);
  box-shadow:
    0 16px 26px fade(#000, 65%),
    inset 0 1px 18px fade(#fff, 8%);
}

.dialRing {
  inset: 5px;
  border: 1px solid fade(#fff, 6%);
  background: linear-gradient(180deg, #0b0b0b, #0f0f0f 55%, #050505);
  box-shadow:
    inset 0 10px 14px fade(#fff, 8%),
    inset 0 -16px 18px fade(#000, 70%);
}

.dialSurface {
  inset: 14px;
  border: 1px solid fade(#fff, 10%);
  background: linear-gradient(180deg, #202020, #0d0d0d 60%, #030303);
  box-shadow:
    inset 10px 14px 22px fade(#fff, 5%),
    inset -14px -18px 28px fade(#000, 92%);
}

.dialMetal {
  inset: 28px;
  border: 1px solid fade(#fff, 14%);
  background: linear-gradient(180deg, #2c2c2c, #1a1a1a 60%, #0e0e0e);
  box-shadow:
    inset 0 8px 14px fade(#fff, 18%),
    inset 0 -10px 16px fade(#000, 42%);
}

.dialSheen {
  inset: 36px;
  background: radial-gradient(
    circle at 30% 20%,
    fade(#fff, 18%),
    fade(#fff, 0%)
  );
}

.tick {
  position: absolute;
  height: 0.28rem;
  width: 0.28rem;
  border-radius: 9999px;
  transform-origin: bottom;
  background: rgba(var(--knob-accent-rgb, 183, 255, 56), 0.38);
  box-shadow: 0 0 12px rgba(var(--knob-accent-rgb, 183, 255, 56), 0.25);
}

.tickActive {
  background: var(--knob-accent, @glow);
  box-shadow: 0 0 14px rgba(var(--knob-accent-rgb, 183, 255, 56), 0.55);
}

.indicatorLayer {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.indicatorStack {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.35rem;
  transform: translateY(-2.4rem);
}

.indicatorBody {
  height: 3.2rem;
  width: 1.6rem;
  border-radius: 0.9rem;
  border: 1px solid fade(#fff, 10%);
  background: linear-gradient(180deg, #1b1b1b, #050505);
  box-shadow:
    inset 0 8px 14px fade(#fff, 12%),
    inset 0 -14px 20px fade(#000, 86%);
}

.indicatorStem {
  height: 2.6rem;
  width: 0.16rem;
  border-radius: 9999px;
  background: #f8fafc;
  box-shadow: 0 0 18px fade(#fff, 85%);
}

.topMarker {
  position: absolute;
  top: 8%;
  left: 50%;
  width: 0.38rem;
  height: 0.38rem;
  transform: translateX(-50%);
  border-radius: 9999px;
  background: fade(@textSecondary, 80%);
  box-shadow: 0 0 10px fade(#fff, 45%);
}

.detentCopy {
  text-align: center;
  font-size: 0.95rem;
  color: @textSecondary;
}

.detentTitle {
  font-weight: 700;
  color: lighten(@textSecondary, 4%);
}
